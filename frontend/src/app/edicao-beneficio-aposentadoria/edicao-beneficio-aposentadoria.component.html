<p>
    Abaixo é possível gerir o benefício de aposentadoria do servdor, tramitando o processo e
    fornecendo os documentos necessários.
</p>
<div class="float-right">
    <a class="btn btn-dark" href="/">
        Voltar
    </a>
</div>
<br />
<ngb-tabset *ngIf="beneficio">
    <ngb-tab>
        <ng-template ngbTabTitle><b>Beneficiário</b></ng-template>
        <ng-template ngbTabContent>
            <div class="container">
                <br />
                <div class="form-group">
                    <label>Nome completo</label>
                    <p>{{ beneficio.servidor.nome }}</p>
                </div>
                <div class="form-group">
                    <label>CPF</label>
                    <p>{{ beneficio.servidor.cpf | documentNumber }}</p>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Órgão</label>
                        <p>{{ beneficio.servidor.orgao }}</p>
                    </div>
                    <div class="form-group col-md-6">
                        <label>Matrícula</label>
                        <p>{{ beneficio.servidor.matricula }}</p>
                    </div>
                </div>
            </div>
        </ng-template>
    </ngb-tab>
    <ngb-tab title="Documentos">
        <ng-template ngbTabContent>
            <div class="container">
                <br />
                <div class="row">
                    <div class="col-md-4">
                        <mat-tree
                            [dataSource]="dataSource"
                            [treeControl]="treeControl"
                            class="document-tree"
                        >
                            <!-- This is the tree node template for leaf nodes -->
                            <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                                <li class="mat-tree-node" (click)="carregarDocumento(node)">
                                    <!-- use a disabled button to provide padding for tree leaf -->
                                    <button mat-icon-button disabled></button>
                                    {{ node.name }}
                                </li>
                            </mat-tree-node>
                            <!-- This is the tree node template for expandable nodes -->
                            <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                                <li>
                                    <div class="mat-tree-node">
                                        <button
                                            mat-icon-button
                                            matTreeNodeToggle
                                            [attr.aria-label]="'toggle ' + node.name"
                                        >
                                            <mat-icon class="mat-icon-rtl-mirror">
                                                {{
                                                    treeControl.isExpanded(node)
                                                        ? 'expand_more'
                                                        : 'chevron_right'
                                                }}
                                            </mat-icon>
                                        </button>
                                        {{ node.name }}
                                    </div>
                                    <ul
                                        [class.document-tree-invisible]="
                                            !treeControl.isExpanded(node)
                                        "
                                    >
                                        <ng-container matTreeNodeOutlet></ng-container>
                                    </ul>
                                </li>
                            </mat-nested-tree-node>
                        </mat-tree>
                        <div class="acoes-documentos">
                            <button type="button" class="btn btn-primary">
                                Adicionar documento
                            </button>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <p>
                            Raw denim you probably haven't heard of them jean shorts Austin.
                            Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache
                            cliche tempor, williamsburg carles vegan helvetica. Reprehenderit
                            butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui
                            irure terry richardson ex squid. Aliquip placeat salvia cillum iphone.
                            Seitan aliquip quis cardigan american apparel, butcher voluptate nisi
                            qui.
                        </p>
                    </div>
                </div>
            </div>
        </ng-template>
    </ngb-tab>
    <ngb-tab title="Movimentações">
        <ng-template ngbTabContent>
            <div class="container">
                <br />
                <p>
                    Abaixo está o histórico de tramitações do benefício de aposentadoria de
                    <em>{{ beneficio.servidor.nome }}</em
                    >.
                </p>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col" class="coluna-estreita-largura">#</th>
                            <th scope="col" class="coluna-tramite-movimentacao">Data</th>
                            <th scope="col" class="coluna-tramite-movimentacao">Origem</th>
                            <th scope="col" class="coluna-tramite-movimentacao">
                                Destino
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let movimentacao of tramitesMovimentos; index as i">
                            <th scope="row">{{ i + 1 }}</th>
                            <td class="coluna-tramite-movimentacao">
                                {{ movimentacao.dataMovimentacao | date: 'dd/MM/yyyy HH:mm' }}
                            </td>
                            <td class="coluna-tramite-movimentacao">
                                {{ movimentacao.setorOrigem }}
                            </td>
                            <td class="coluna-tramite-movimentacao">
                                {{ movimentacao.setorDestino }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </ng-template>
    </ngb-tab>
</ngb-tabset>
